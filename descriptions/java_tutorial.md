# Java

<img src='../images/java_big_icon.svg' alt='Java_title' width='100' height='100'>

### Введение

`Java` является основой практически для всех типов сетевых приложений и 
всеобщим стандартом для разработки и распространения встроенных и 
мобильных приложений, игр, веб-контента и корпоративного программного 
обеспечения.

### Java как язык и платформа

Говоря о Java следует четко разграничивать два понятия: язык 
программирования и платформа.

- `Java` как язык программирования является высокоуровневым, 
статически-типизированным и объектно-ориентированным.

- `Java` как платформа — это программное обеспечение, 
представляющее собой рабочую среду для работы программ, 
написанных на `Java` (и не только). Она состоит из `Java API` и `Java` 
виртуальной машины (`JVM`).

`Java API` — это библиотеки скомпилированного кода, которые можно 
использовать для написания своих программ. Они предоставляют собой 
готовый и кастомизируемый функционал, который позволяет сэкономить 
при разработке много времени.

Java программы выполняются (или интерпретируются) другой программой, 
называемой `JVM` (`Java Virtual Machine`). Она не интерпретирует напрямую 
исходный `Java` код, вместо этого `java` код должен быть скомпилирован в 
`.class` файлы (или байт-код), формат которых не является удобным для 
чтения человеком, но это и не машинный код. Технически байт-код — 
это промежуточный язык, или Intermediate language.

Возникает логичный вопрос: что же связывает язык `Java` с `JVM`. И 
ответ на этот вопрос - `.class` файлы, в которые компилируется исходный 
код `Java` (и не только этого языка) и который затем интерпретируется `JVM`.

<img src='../images/java_img.png' alt='JVM' width='600' height='300'>

### Понятия JRE/JDK/JVM

## `JVM` Виртуальная машина Java — исполняющая среда, 
которая преобразует байт-код (*.class) в машинный код и выполняет его.

Функции:
- Загрузка классов
- Верификация байт-кода
- Управление памятью (Garbage Collection)
- Исполнение кода

```java
public class Main {
    public static void main(String[] args) {
        System.out.println("Hello, JVM!");
    }
}
```

После компиляции (`javac Main.java`) `JVM` 
выполняет `Main.class`.

## `JDK` Полный набор для разработки `Java`-приложений. 

Включает:

- `JRE` (а значит, и `JVM`)
- Компилятор (`javac`)
- Инструменты (`jdb`, `javadoc`, `jstack`)
- Дополнительные библиотеки

Пример компиляции и запуска программы:

```bash
javac Main.java    # Компиляция (создает Main.class)
java Main          # Запуск через JVM
```

## `JRE` Минимальная среда для запуска `Java`-программ. 

Включает:
- `JVM`
- Стандартные библиотеки (например, `java.lang`, `java.util`)

Когда нужно?
Если вы только запускаете `Java`-приложения (но не разрабатываете их).

Пример:
Установка `JRE` для запуска Minecraft:

```bash
java -jar minecraft.jar
```

### Установка на компьютер

После установки также следует добавить пользовательскую переменную 
`JAVA_HOME`, которая будет содержать путь к папке с `Java`, a также
добавить в системную переменную `PATH` к самой `Java`. Они будут 
выглядеть примерно так:

```plaintext
JAVA_HOME = C:\Program Files\Java\jdk1.8.0_112
PATH = ...;C:\Program Files\Java\jdk1.8.0_112\bin
```

### Основы языка

Создание прокта в `Idea` и первый `Java` класс

```java
class App {

    public static void main (String args[]) {
        System.out.println ("Hello World!");
    }
}
```

### Переменные, типы данных...
TODO

### ООП

Объектно-ориентированное программирование (`ООП`) — это 
способ организации кода в программе путем его группировки в 
виде объектов, то есть отдельных элементов, которые включают 
информацию (значения данных) и функции (действия, которые может 
выполнить объект). Объектно-ориентированный подход к организации 
программы позволяет группировать определенные фрагменты информации 
(например, музыкальную информацию, такую как название альбома, 
название трека или имя исполнителя) вместе с часто используемыми 
функциями или действиями, связанными с этой информацией (например, 
«добавить трек в список воспроизведения» или «воспроизвести все 
песни этого исполнителя»). Эти элементы объединяются в один элемент, 
так называемый объект (например, «Album» или «MusicTrack»). 
Возможность связать вместе эти значения и функции дает несколько 
преимуществ. Например, нужно отслеживать только одну переменную, 
а не несколько; можно сгруппировать вместе связанные между собой 
функции; можно организовать структуру программы так, чтобы она 
больше соответствовала реальным потребностям.

Пример класса:
```java
class App {
    // Аттрибут
    String name = "attribute";

    // Конструктор
    public MyClass(String name) {
        this.name = name;
    }
    // Метод
    public String getName() {
        return name;
    }
}
```

Создание экземпляра класса:

```java
App app = new App("NameForApp");
```

Оператор `new` создает экземпляр указанного 
класса и возвращает ссылку на вновь созданный объект.

### Методы
TODO

### Свойства

Рассмотрим доступ к переменным объектов с 
помощью геттеров и сеттеров. Примером плохого 
написания кода считается, использование для 
переменных класса модификатора доступа `public`.
Это нарушает принцип инкапсуляции. Поэтому для 
защиты был придуман механизм доступа к переменным 
через `get` и `set` (геттер и сеттер) методы, которые 
обычно называют свойства.

`Get` позволяет получить значения (читать значения), 
а `Set` — записать значения в переменную. В коде 
они не отличаются от обычных методов. Но имя метода 
всегда начинается с префикса `get` или `set`.

Объявим все переменные с модификатором доступа 
`private`. Теперь все переменные доступны только 
внутри класса.

Теперь организуем доступ через геттеры и 
сеттеры. Для них мы используем модификатор 
доступа `public`, затем идет тип переменной 
(для каждой свой, такой же, как и у переменных, 
которые мы закрыли), затем имя метода (префикс 
`get/set` и само имя переменной). В фигурных 
скобках пишем `return имя_переменной;` для 
возврата значения переменной (чтения).

```java
class MyClass {
    private String name = "Maxim";
    private int age = 18; // XD

    public String getName() {
        return name;
    }

    public int getAge(){
        return age;
    }

    public void setName(String newName) {
        name = newName;
    }

    public void setAge(int newAge) {
        age = newAge;
    }
}
```
### Ключевое слово "this"

Иногда будет требоваться, чтобы метод 
ссылался на вызвавший его объект. Чтобы это 
было возможно, в `Java` определено ключевое слово 
`this`. Оно может использоваться внутри любого метода 
для ссылки на текущий объект. То есть `this`
всегда служит ссылкой на объект, для которого 
был вызван метод. Ключевое слово `this` можно 
использовать везде, где допускается ссылка на 
объект типа текущего класса.

```java
public class Point {
    public int x = 0;
    public int y = 0;

    // Конструктор
    public Point(int x, int y) {
        this.x = x;
        this.y = y;
    }
}
```

### Конструктор

Конструктор — это специальный метод, который 
вызывается при создании нового объекта. Не всегда 
удобно инициализировать все переменные класса 
при создании его экземпляра. Иногда проще, 
чтобы какие-то значения были бы созданы по 
умолчанию при создании объекта. По сути 
конструктор нужен для автоматической инициализации 
переменных.

Конструктор инициализирует объект непосредственно 
во время создания. Имя конструктора совпадает с 
именем класса, включая регистр, а по синтаксису 
конструктор похож на метод без возвращаемого 
значения.

```java
class Box {
    int width; // ширина 
    int height; // высота 
    int depth; // глубина 

    // Конструктор
    Box() {
        width = 10;
        height = 10;
        depth = 10;
    }
}
```

### Модификаторы "static" и "final"

`final` — это модификатор, позволяющий объявлять 
константные поля в классе. Если у вас есть 
некоторое свойство проектируемого вами объекта, 
значение которого не будет меняться, то вы 
можете воспользоваться этим модификатором. 
Любая попытка переопределить значение поля 
с модификатором `final` приводит к 
выбросу исключения.

`static`: существует на уровне класса, а не 
объекта; Для каждого класса создается 
только один экземпляр статической переменной 
(переменой класса).

При описании статических переменных должны быть 
выполнены следующие правила:

- статические переменные должны быть объявлены 
вне всякого метода;
- статические переменные могут быть 
инициализированы при их объявлении или 
блоком кода, отмеченного ключевым словом 
`static`, и также расположенным вне метода.

### Наследование

TODO